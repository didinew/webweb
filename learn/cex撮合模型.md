## 一句话解释（先记住）

CEX 撮合模型 = 用订单簿 + 撮合引擎，把买卖双方按规则配对成交的机制

### 关键词

- 订单簿（Order Book）
- 撮合引擎（Matching Engine）
- 撮合规则（Price-Time Priority）


## CEX 里到底在“撮合”什么？

不是撮合人，是撮合 订单。

买卖双方真正提交的是：

- 买单：我愿意用 X 价格买 Y 数量
- 卖单：我愿意用 X 价格卖 Y 数量

交易所做的事只有一件：
 把能成交的订单配成一对

## 订单簿（Order Book）是什么？
    你可以把订单簿理解成两个队列：

    买单簿（Bids）           卖单簿（Asks）

    价格高 → 低              价格低 → 高

示例
买：
30000  0.5 BTC
29900  1.2 BTC

卖：
30100  0.3 BTC
30200  0.8 BTC

#### 规则
- 买单：价高优先
- 卖单：价低优先

## 撮合引擎（Matching Engine）怎么工作？

**核心判断**：买价 >= 卖价 → 可以成交

#### 举例 1：限价买单（挂单）
- 你下：限价买 29000
- 当前卖一：30100
- 结果：无法成交 → 进入订单簿等待
- 对应状态：open

#### 举例 2：市价买单（吃盘）
- 你下：市价买 0.1 BTC
- 系统行为：直接吃最便宜卖单 → 30100 成交
- 市价单 = 主动撮合

## 撮合优先级（非常重要）
#### 通用规则
-  按价格优先
-  按时间优先

#### 意味着
- 价格更好的一定先成交
- 同价格，谁先挂谁先成交

> 这就是为什么高频交易在抢时间

## Maker / Taker 在撮合模型里的位置

| 角色 | 行为 | 作用 |
| --- | --- | --- |
| Maker | 挂单进订单簿 | 增加流动性 |
| Taker | 吃已有订单 | 消耗流动性 |

> 判断标准：是否立刻成交

## 资金在撮合模型里的流转

**流程**：下单 → 冻结资金 → 成交 → 结算 → 更新余额

> 在成交前，钱永远不会动

## 为什么说「CEX 撮合模型 ≠ 区块链」？

### CEX（中心化）
- 撮合：服务器内存 / 数据库
- 速度：微秒级
- 信任：交易所

### DEX（去中心化）
- 撮合：智能合约 / AMM
- 速度：秒级
- 信任：合约 + 链

## CEX vs DEX 撮合方式对比（必背）

| 维度 | CEX | DEX |
| --- | --- | --- |
| 撮合方式 | 订单簿 | AMM |
| 是否有订单 | 有 | 无 |
| 是否排队 | 有 | 无 |
| 滑点 | 低 | 高 |
| 是否抢时间 | 是 | 否 |
## 为什么你必须理解撮合模型？

因为它直接决定你：
- 为什么订单不成交
- 为什么成交价不是你看到的
- 为什么会部分成交
- 为什么 maker / taker 手续费不同
- 为什么高频策略有效

> 90% 新手亏钱，都是不懂撮合模型
