## ç¬¬äºŒé˜¶æ®µï¼šWeb3 & é’±åŒ…åŸºç¡€ï¼ˆ1 å‘¨ï¼‰

**é˜¶æ®µç›®æ ‡**
- ç†è§£è´¦æˆ· / é’±åŒ… / ç§é’¥ä½“ç³»
- æŒæ¡ç­¾å / éªŒç­¾ / æˆæƒ
- DApp ä¸é’±åŒ…é€šä¿¡ï¼ˆå‰åç«¯ï¼‰
- æœ€å°å¯ç”¨é’±åŒ…äº¤äº’ Demo
- ä¸ºåˆçº¦ / DEX / äº¤æ˜“ç³»ç»Ÿæ‰“ä¸‹å®‰å…¨åŸºç¡€

**å­¦ä¹ å®‰æ’ï¼ˆ7 å¤©ï¼‰**

### Day 1ï½œWeb3 åŸºç¡€ & è´¦æˆ·æ¨¡å‹
**æ ¸å¿ƒæ¦‚å¿µ**
- Web2 vs Web3ï¼ˆè°æ§åˆ¶èº«ä»½ï¼‰
- åŒºå—é“¾è´¦æˆ·æ¨¡å‹
- EOA ä¸åˆçº¦è´¦æˆ·
- åœ°å€ â‰  å…¬é’¥ â‰  ç§é’¥ï¼›ä¸ºä»€ä¹ˆç§é’¥=èº«ä»½

**ç§é’¥ â†’ å…¬é’¥ â†’ åœ°å€**
- ç§é’¥ï¼šéšæœºæ•°ï¼ˆ256bitï¼‰
- å…¬é’¥ï¼šæ¤­åœ†æ›²çº¿è®¡ç®—
- åœ°å€ï¼š`keccak256(publicKey)` å 20 å­—èŠ‚

**å®æˆ˜ï¼ˆNode.jsï¼‰**
```js
import { Wallet } from 'ethers'
const wallet = Wallet.createRandom()
console.log(wallet.address)
console.log(wallet.privateKey)
```

ğŸ‘‰ é’±åŒ…æ˜¯ã€Œç§é’¥ç®¡ç†å™¨ã€
Day 2ï½œé’±åŒ… & åŠ©è®°è¯ï¼ˆå®‰å…¨æ ¸å¿ƒï¼‰

åŠ©è®°è¯æœ¬è´¨
	â€¢	BIP39ï¼š12 / 24 ä¸ªè¯ = ç§é’¥ç§å­
	â€¢	åŠ©è®°è¯ â‰  ç§é’¥ï¼ˆå¯ç”Ÿæˆæ— é™ç§é’¥ï¼‰

HD Walletï¼ˆå±‚çº§é’±åŒ…ï¼‰

m/44'/60'/0'/0/0

**å®æˆ˜**
```js
import { HDNodeWallet } from 'ethers'
const wallet = HDNodeWallet.fromPhrase(mnemonic)
const child = wallet.derivePath("m/44'/60'/0'/0/1")
```

å®‰å…¨çº¢çº¿ï¼ˆé¢è¯•å¿…é—®ï¼‰

âŒ ç§é’¥å­˜åœ¨å‰ç«¯
âŒ æ˜æ–‡å­˜æ•°æ®åº“
âŒ ä¸Šä¼ æœåŠ¡å™¨

âœ… ç¡¬ä»¶é’±åŒ…
âœ… æœ¬åœ°åŠ å¯†
âœ… åªç­¾åä¸ä¼ ç§é’¥

Day 3ï½œç­¾å & éªŒç­¾ï¼ˆWeb3 çµé­‚ï¼‰

ä¸ºä»€ä¹ˆè¦ç­¾åï¼Ÿ
	â€¢	ç™»å½•
	â€¢	æˆæƒ
	â€¢	ä¸‹å•
	â€¢	é˜²é‡æ”¾æ”»å‡»

å¸¸è§ç­¾åç±»å‹

ç±»å‹
ç”¨é€”
message ç­¾å
ç™»å½• / æ ¡éªŒ
EIP-712
ç»“æ„åŒ–ç­¾åï¼ˆDeFi æ ‡å‡†ï¼‰
tx ç­¾å
å‘äº¤æ˜“

**å®æˆ˜ï¼šç­¾å & éªŒç­¾**
```js
const msg = 'Login at 2025-01-01'
const sig = await wallet.signMessage(msg)
import { verifyMessage } from 'ethers'
console.log(verifyMessage(msg, sig) === wallet.address)
```

ğŸ‘‰ ç†è§£é‡ç‚¹ï¼š

Web3 ç™»å½• â‰  è´¦å·å¯†ç 
= ç”¨ç§é’¥è¯æ˜ã€Œæˆ‘æ˜¯æˆ‘ã€


â¸»

Day 4ï½œDApp ä¸é’±åŒ…é€šä¿¡ï¼ˆå‰ç«¯è§†è§’ï¼‰

é’±åŒ…æ˜¯å¦‚ä½•æ³¨å…¥çš„ï¼Ÿ

window.ethereum

å¸¸è§æ–¹æ³•
await ethereum.request({ method: 'eth_requestAccounts' })

**ethers å°è£…**
```js
import { BrowserProvider } from 'ethers'
const provider = new BrowserProvider(window.ethereum)
const signer = await provider.getSigner()
```

ä½ è¦ææ‡‚çš„
	â€¢	provider vs signer
	â€¢	chainId
	â€¢	account change / chain change ç›‘å¬


â¸»

Day 5ï½œäº¤æ˜“å‘é€ & Gas æœºåˆ¶

äº¤æ˜“æœ¬è´¨

```js
{
  from,
  to,
  value,
  data,
  gas,
  nonce
}
```
**å®æˆ˜ï¼šè½¬è´¦**
```js
import { parseEther } from 'ethers'
await signer.sendTransaction({ to, value: parseEther('0.01') })
```

Gas é¢è¯•å¿…é—®
	â€¢	gasLimit vs gasPrice
	â€¢	EIP-1559ï¼ˆmaxFee / priorityFeeï¼‰
	â€¢	ä¸ºä»€ä¹ˆäº¤æ˜“ä¼š pending / fail


â¸»

Day 6ï½œé’±åŒ…å®‰å…¨ & æ”»å‡»æ¨¡å‹ï¼ˆé«˜çº§ï¼‰

å¸¸è§æ”»å‡»
	â€¢	é’“é±¼ç­¾å
	â€¢	approve æ— é™æˆæƒ
	â€¢	æ¶æ„åˆçº¦
	â€¢	é‡æ”¾æ”»å‡»

çœŸå®ä¸–ç•Œæ¡ˆä¾‹
	â€¢	ä¸ºä»€ä¹ˆ Uniswap è¦ permit
	â€¢	ä¸ºä»€ä¹ˆç­¾åè¦åŠ  nonce / deadline

é˜²å¾¡æ€è·¯
	â€¢	message å¸¦æ—¶é—´æˆ³
	â€¢	domain separatorï¼ˆEIP-712ï¼‰
	â€¢	æœ€å°æˆæƒ


â¸»

Day 7ï½œç»¼åˆå®æˆ˜ï¼šWeb3 ç™»å½•ç³»ç»Ÿï¼ˆğŸ”¥ï¼‰

ç›®æ ‡

å®ç°ä¸€ä¸ª Web3 ç™»å½• Demo

æµç¨‹
	1.	å‰ç«¯è¯·æ±‚ nonce
	2.	é’±åŒ…ç­¾å
	3.	åç«¯éªŒç­¾
	4.	è¿”å› token

åç«¯ä¼ªä»£ç 

verifyMessage(nonce, signature) === address

æˆæœ

âœ… ä½ å·²ç»å…·å¤‡
	â€¢	Web3 ç™»å½•
	â€¢	é’±åŒ…æˆæƒ
	â€¢	DeFi / DEX åŸºç¡€ç†è§£èƒ½åŠ›

**æœ¬é˜¶æ®µäº§å‡ºï¼ˆç®€å†å¯å†™ï¼‰**
- åŸºäº ECDSA çš„å»ä¸­å¿ƒåŒ–èº«ä»½è®¤è¯
- æ”¯æŒåŠ©è®°è¯ / HD Wallet / EIP-712 ç­¾å
- å®Œæˆ DApp ä¸é’±åŒ…é€šä¿¡ã€ç­¾åæ ¡éªŒä¸äº¤æ˜“å‘é€
- å…·å¤‡ç§é’¥å®‰å…¨ä¸æ”»å‡»é˜²å¾¡æ„è¯†