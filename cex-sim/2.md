🧱 Step 2：下单模型 + 订单状态机

🎯 本步目标

实现一个不会乱冻结钱的下单系统，支持：
	•	创建订单
	•	订单状态机
	•	下单即冻结资金
	•	撤单释放冻结

一、订单系统的「最小正确模型」

1️⃣ 订单结构（必须包含）

Order {
  orderId,        // 全局唯一
  symbol,         // BTCUSDT
  side,           // BUY / SELL
  price,
  quantity,
  status,         // NEW / CANCELED / PARTIALLY_FILLED / FILLED
  frozenAmount,   // 冻结金额（关键）
  createdAt
}

📌 冻结金额必须存在于订单对象中
否则你无法安全 release。


⸻

二、订单状态机（必须遵守）

           ┌────────────┐
           │    NEW     │
           └─────┬──────┘
                 │ cancel
                 ↓
           ┌────────────┐
           │  CANCELED  │
           └────────────┘
        

⚠️ 本 Step 不做成交
只允许：NEW → CANCELED


六、Step 2 验收清单（非常严格）

你必须能保证：
	•	下单即冻结资金
	•	余额不足无法下单
	•	撤单只能对 NEW 状态
	•	撤单后冻结资金完全释放
	•	任意状态跳跃直接 throw error

